{"version":3,"sources":["app.js","_layout/header/header-controller.js","_layout/head/head-service.js","_layout/head/head-controller.js","_layout/header/header.js","_layout/footer/footer.js","home/home-controller.js","home/home.js","routes.js","ngConstants.js"],"names":[],"mappings":"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","file":"scripts.js","sourcesContent":[";(function() {\n\"use strict\";\n\n'use strict';\n\nangular\n  .module('sampleApp', [\n    'app.config',\n    'app.templates',\n\n    'ui.router',\n    'angulartics',\n    'tandibar/ng-rollbar',\n    'angulartics.google.analytics'\n  ])\n\n  // Track Errors (Rollbar)\n  .config(function(RollbarProvider, ENV) {\n    // report errors on deployed systems\n    if (ENV.name !== 'development') {\n      RollbarProvider.init({\n        accessToken: 'XXX',\n        captureUncaught: true,\n        payload: {\n          environment: ENV.name,\n          client: {\n            javascript: {\n              source_map_enabled: true,\n              code_version: ENV.version,\n              guess_uncaught_frames: true\n            }\n          }\n        }\n      });\n    }\n  })\n\n  // Track pages (Google Analytics)\n  .config(function($analyticsProvider) {\n    // turn off automatic tracking\n    $analyticsProvider.virtualPageviews(false);\n  })\n  .run(function($rootScope, $location, $analytics) {\n    $rootScope.$on('$stateChangeSuccess', function() {\n      $analytics.pageTrack($location.path());\n    });\n  });\n}());\n",";(function() {\n\"use strict\";\n\n'use strict';\n\nangular\n  .module('sampleApp')\n  .controller('HeaderCtrl', HeaderCtrl);\n\nfunction HeaderCtrl() {\n  //var vm = this;\n\n  activate();\n\n  ////////////\n\n  function activate() {}\n\n}\n}());\n",";(function() {\n\"use strict\";\n\n'use strict';\n\nangular\n  .module('sampleApp')\n  .service('Head', Head);\n\nfunction Head() {\n\n  var service = {\n    metadata: {},\n    updatePage: updatePage,\n    updateNotFound: updateNotFound,\n    updateMoved: updateMoved\n  };\n  return service;\n\n  ////////////////\n\n  function resetMetadata() {\n    // tags\n    service.metadata.pageTitle =  'stomt.com';\n    //metadata.canonicalUrl =  'https://www.stomt.com';\n    service.metadata.tags =  {};\n\n    // prerender\n    service.metadata.statusCode =  200;\n    service.metadata.redirect =  null;\n  }\n\n  function updatePage(page) {\n    resetMetadata();\n\n    // tags\n    service.metadata.pageTitle = page.title;\n    service.metadata.tags = {\n      description: page.description\n    };\n  }\n\n  function updateNotFound() {\n    resetMetadata();\n\n    // tags\n    service.metadata.pageTitle = 'Page does not exist';\n    service.metadata.tags = {\n      description: 'Not Found - 404'\n    };\n\n    // prerender\n    service.metadata.statusCode = 404;\n  }\n\n  function updateMoved(redirect) {\n    resetMetadata();\n\n    // tags\n    service.metadata.pageTitle = 'The page has been moved';\n    service.metadata.tags = {\n      description: 'Moved - 301'\n    };\n\n    // prerender\n    service.metadata.statusCode = 301;\n    service.metadata.redirect = redirect;\n  }\n}\n}());\n",";(function() {\n\"use strict\";\n\n'use strict';\n\nangular\n  .module('sampleApp')\n  .controller('HeadCtrl', HeadCtrl);\n\nfunction HeadCtrl(Head) {\n  var vm = this;\n\n  vm.metadata = Head.metadata;\n\n  activate();\n\n  ////////////\n\n  function activate() {}\n\n}\n}());\n",";(function() {\n\"use strict\";\n\n(function(module) {\ntry {\n  module = angular.module('app.templates');\n} catch (e) {\n  module = angular.module('app.templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('components/_layout/header/header.html',\n    '<a href=\"\" ui-sref=\"app.home\">Home</a>');\n}]);\n})();\n}());\n",";(function() {\n\"use strict\";\n\n(function(module) {\ntry {\n  module = angular.module('app.templates');\n} catch (e) {\n  module = angular.module('app.templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('components/_layout/footer/footer.html',\n    '<footer>2015 - angular sample app</footer>');\n}]);\n})();\n}());\n",";(function() {\n\"use strict\";\n\n'use strict';\n\nangular\n  .module('sampleApp')\n  .controller('HomeCtrl', HomeCtrl);\n\nfunction HomeCtrl(Head) {\n  var vm = this;\n\n  vm.name = 'Peter';\n\n  activate();\n\n  ////////////\n\n  function activate() {\n    Head.updatePage({\n      title: 'Homepage',\n      description: 'Entry point into app'\n    });\n  }\n\n}\n}());\n",";(function() {\n\"use strict\";\n\n(function(module) {\ntry {\n  module = angular.module('app.templates');\n} catch (e) {\n  module = angular.module('app.templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('components/home/home.html',\n    '<h1 class=\"flaticon-orientation51\">Welcome {{homeCtrl.name}}</h1><a href=\"https://github.com/maxklenk/angular-sample-app\" title=\"fork on Github\"><img src=\"https://img.shields.io/github/forks/badges/shields.svg?style=social&label=Fork\"></a> <img src=\"images/logo.png\">');\n}]);\n})();\n}());\n",";(function() {\n\"use strict\";\n\n'use strict';\n\nangular\n  .module('sampleApp')\n  .config(statesConfiguration)\n  .run(checkAuth);\n\n/* @ngInject */\nfunction statesConfiguration($stateProvider, $urlRouterProvider, $locationProvider, $httpProvider, ENV) {\n\n  $stateProvider\n\n    // landing (login/register)\n    .state('landing', {\n      url: '/landing',\n      requireAuth: false,\n      views: {\n        container: {\n          templateUrl: 'components/landing/landing.html',\n          controller: 'LandingCtrl',\n          controllerAs: 'landingCtrl'\n        }\n      }\n    })\n\n\n    ////////////\n    // IN APP //\n    ////////////\n    .state('app', {\n      abstract: true,\n      views: {\n        header: {\n          templateUrl: 'components/_layout/header/header.html',\n          controller: 'HeaderCtrl',\n          controllerAs: 'headerCtrl'\n        },\n        footer: {\n          templateUrl: 'components/_layout/footer/footer.html'\n        }\n      }\n    })\n\n    // home\n    .state('app.home', {\n      url: '/',\n      requireAuth: true,\n      views: {\n        'container@': {\n          templateUrl: 'components/home/home.html',\n          controller: 'HomeCtrl',\n          controllerAs: 'homeCtrl'\n        }\n      }\n    });\n\n  /* @ngInject */\n  $urlRouterProvider.otherwise(function() {\n    // UserService & $state not available during .config(), inject them (manually) later\n\n    // requesting unknown page unequal to '/'\n    // var path = $location.path();\n    // if (path !== '/') {\n    //   $injector.get('$state').go('404');\n    //   return path; // this trick allows to show the error page on unknown address\n    // }\n\n    // go to '/' and check logged in status there\n    return '/';\n  });\n\n  $locationProvider\n    .html5Mode(ENV.html5Mode)\n    .hashPrefix('!');\n\n  $httpProvider.interceptors.push(http401Interceptor);\n}\n\n// go to index.login when response 401 arrives\n/* @ngInject */\nfunction http401Interceptor($q, $location) {\n  return {\n    responseError: function(rejection) {\n      /* istanbul ignore else */\n      if (rejection.status === 401) {\n        if ($location.path() !== '/index') {\n          $location.path('/index'); //.search('returnTo', $location.path());\n        }\n      }\n      return $q.reject(rejection);\n    }\n  };\n}\n\n// go to landing if not logged in\n/* @ngInject */\nfunction checkAuth($rootScope, $state) {\n  $rootScope.$on('$stateChangeStart',\n    function(event, toState) {\n\n      // auth required for next page? if so, check auth\n      if (toState.requireAuth && !isLoggedIn()) {\n        event.preventDefault();\n\n        $state.go('landing');\n\n        // avoid access to landing if logged in\n      } else if (toState.name === 'landing' && isLoggedIn()) {\n        event.preventDefault();\n        $state.go('app.home');\n      }\n    });\n}\n\nfunction isLoggedIn() {\n  return true;\n}\n}());\n",";(function() {\n\"use strict\";\n\nangular.module(\"app.config\", [])\n\n.constant(\"ENV\", {\n\t\"name\": \"development\",\n\t\"version\": \"0.0.0-local\",\n\t\"html5Mode\": true,\n\t\"apiEndpoint\": \"http://rest.local.com\"\n})\n\n;\n}());\n"],"sourceRoot":"/source/"}